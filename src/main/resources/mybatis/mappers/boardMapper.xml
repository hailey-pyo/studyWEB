<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
	
	<select id="boardList" parameterType="Map" resultType="Map">
		SELECT *
		FROM board_view WHERE board_type=#{key} 
		LIMIT #{startPage }, #{lastPage }
	</select>
	
	<select id="boardListCount" parameterType="Map" resultType="Integer">
		SELECT count(*) as count from board_view where board_type=#{key} 
	</select>
	
	<select id="boardDetail" parameterType="Map" resultType="Map">
		SELECT * from board_view Where board_no = #{board_no}
	</select>
	
	<select id="comments" parameterType="Map" resultType="Map">
		SELECT *
		FROM comments_view WHERE board_no=#{board_no}
	</select>
	
	<update id="delboard" parameterType="Map">
		UPDATE board SET board_del_state='Y' WHERE board_no = ${board_no}
	</update>
</mapper>